<div class="page-header">
  <div ng-show="good.error" class="alert alert-danger row">
    <span>{{ good.error }}</span>
  </div>
  <h3>
    <span>
      <h2 class="capitalize">
        {{good.good.name}} <br>
        {{good.good.pricePerUnit | currency}}/{{good.good.unitOfSale}} {{good.good.unitOfMeasurement}}
        <hr>
      </h2>
    </span>
    <span>
      <p class="capitalize">Description: {{good.good.description}}</p>
      <p class="capitalize">Type: {{good.good.type}}</p>
      <p class="capitalize">Category: {{good.good.category}}</p>
    </span>
    <p>
      Producer: <a href="#/users/{{good.good.seller}}" class="capitalize">{{good.good.seller}}</a>
    </p>
  </h3>
</div>

<div ng-if="good.currentUser.username!=good.good.seller">
<label>
  Quantity
</label>
<select ng-model="good.userQuantity">
  <option ng-repeat="q in good.quantity" ng-if="q<=good.good.quantityForSale" value="{{q}}">{{q}}</option>
</select><br>

<label>Pickup or Delivery</label>
<select ng-model="good.good.delivery" ng-disabled="!good.good.can_deliver">
  <option value=""></option>
  <option value="delivery">Delivery</option>
  <option value="pickup">Pickup</option>
</select><br>

{{good.good.delivery}}

<span ng-if="good.good.delivery=='delivery'">
  <b>Delivery Fee:</b> {{good.good.delivery_fee | currency}}<br>
  <b>Estimated Delivery Time:</b> {{good.good.delivery_time}}<br>
</span><br>

<span ng-if="good.good.delivery=='pickup'">
  pickup
</span><br>

Total: {{good.good.pricePerUnit*good.userQuantity+(good.good.delivery=='delivery' ? good.good.delivery_fee : 0) | currency}}<br>
<button ng-click="good.addToCart()" type="button" class="btn btn-success">Add to Cart</button>
<button ng-click="good.addToCart()" type="button" class="btn btn-warning">Back</button>
<div ng-show="good.success" class="alert alert-success row" style="margin-top:20px;">
  <span>{{ good.success }}</span>
</div>
</div>
